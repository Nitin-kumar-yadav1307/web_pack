/* ============================================
   ðŸŒ™ DARK MODE STYLES â€” FINAL OPTIMIZED VERSION
   ============================================ */

/* Base dark mode */
:global body.dark-mode {
  background: #000 !important;
  color: #fff !important;
}

/* App container */
:global body.dark-mode #app {
  background: #000 !important;
}

/* Sidebar styles */
:global body.dark-mode .Sidebar {
  background: #181818 !important;
  border-color: #222 !important;
}

:global body.dark-mode .sidebarGroup {
  background: #181818 !important;
  border-bottom: 1px solid #222 !important;
}

/* ================================
   BUTTONS + ICONS
   ================================ */

/* General buttons */
:global body.dark-mode .Button,
:global body.dark-mode button {
  background: #222 !important;
  color: #fff !important;
  border: 1px solid #333 !important;
  transition: background-color 0.2s ease, color 0.2s ease, fill 0.2s ease;
}

/* Hover effect */
:global body.dark-mode .Button:hover,
:global body.dark-mode button:hover {
  background: #333 !important;
}

/* Active (pinned/toggled) state */
:global body.dark-mode .Button.active,
:global body.dark-mode button.active {
  background: #ffd600 !important; /* bright yellow */
  color: #000 !important;
  border-color: #e0c400 !important;
}

/* Icons â€” visible in dark mode */
:global body.dark-mode .Button .Icon,
:global body.dark-mode button .Icon,
:global body.dark-mode .Button svg,
:global body.dark-mode button svg {
  fill: #fff !important;
  stroke: #fff !important;
  opacity: 1 !important;
}

/* Active icons â€” contrast on yellow button */
:global body.dark-mode .Button.active .Icon,
:global body.dark-mode button.active .Icon,
:global body.dark-mode .Button.active svg,
:global body.dark-mode button.active svg {
  fill: #000 !important;
  stroke: #000 !important;
}

/* Specifically ensure pin & toggle buttons are visible */
:global body.dark-mode .pinButton .Icon,
:global body.dark-mode .toggleButton .Icon {
  fill: currentColor !important;
  color: #fff !important;
}

:global body.dark-mode .pinButton.active .Icon,
:global body.dark-mode .toggleButton.active .Icon {
  color: #000 !important;
  fill: #000 !important;
}

/* ================================
   FORM CONTROLS
   ================================ */
:global body.dark-mode input,
:global body.dark-mode .Checkbox,
:global body.dark-mode .Search input {
  background: #222 !important;
  color: #fff !important;
  border-color: #333 !important;
}

/* ================================
   TREEMAP VISUALIZATION
   ================================ */

/* Keep treemap visible and colorful */
:global body.dark-mode .Treemap {
  background: #000 !important;
}

/* Exclude Treemap/canvas/svg from dark backgrounds */
:global body.dark-mode *:not(.Treemap):not(canvas):not(svg):not(.map):not(.chart) {
  background: #181818 !important;
  color: #fff !important;
  opacity: 1 !important;
}

/* ================================
   MODULES LIST / TOOLTIP / MENUS
   ================================ */

:global body.dark-mode .ModulesList {
  background: #222 !important;
  color: #fff !important;
}

:global body.dark-mode .ModuleItem {
  border-bottom: 1px solid #222 !important;
}

:global body.dark-mode .ModuleItem:hover {
  background: #333 !important;
}

:global body.dark-mode .Tooltip,
:global body.dark-mode .ContextMenu {
  background: #222 !important;
  color: #fff !important;
  border: 1px solid #333 !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5) !important;
}

/* ================================
   TEXT / LABELS
   ================================ */

:global body.dark-mode .foundModulesInfo,
:global body.dark-mode .size-info,
:global body.dark-mode .Sidebar,
:global body.dark-mode .sidebarGroup,
:global body.dark-mode .Search label,
:global body.dark-mode .Dropdown label,
:global body.dark-mode .Checkbox label {
  color: #fff !important;
  opacity: 1 !important;
}

/* ================================
   ACTIVE + SELECTED UI STATES
   ================================ */
:global body.dark-mode .active,
:global body.dark-mode .selected {
  background: #333 !important;
}

/* ================================
   TRANSITIONS
   ================================ */
:global body,
:global body *:not(svg):not(canvas),
:global body *::before,
:global body *::after {
  transition: background-color 0.3s ease,
              color 0.3s ease,
              border-color 0.3s ease,
              fill 0.3s ease,
              stroke 0.3s ease;
}/* =========================================
   ðŸŽ¯ SVG ICON VISIBILITY FIX (FINAL)
   ========================================= */

/* 1. Never force dark backgrounds on SVGs or paths */
:global body.dark-mode svg,
:global body.dark-mode svg *,
:global body.dark-mode .Icon,
:global body.dark-mode .Icon * {
  background: none !important;
}

/* 2. Make all SVG icons visible in dark mode */
:global body.dark-mode svg path,
:global body.dark-mode svg circle,
:global body.dark-mode svg polygon,
:global body.dark-mode svg rect,
:global body.dark-mode .Icon path,
:global body.dark-mode .Icon polygon,
:global body.dark-mode .Icon rect,
:global body.dark-mode .Icon circle {
  fill: #fff !important;
  stroke: #fff !important;
  opacity: 1 !important;
}

/* 3. Active button (pinned / toggled) â€” yellow background + black icons */
:global body.dark-mode .Button.active svg path,
:global body.dark-mode .Button.active svg circle,
:global body.dark-mode .Button.active svg polygon,
:global body.dark-mode .Button.active svg rect,
:global body.dark-mode button.active svg path,
:global body.dark-mode button.active svg circle,
:global body.dark-mode button.active svg polygon,
:global body.dark-mode button.active svg rect {
  fill: #000 !important;
  stroke: #000 !important;
}

/* 4. Hover effect â€” brighten icons a little */
:global body.dark-mode .Button:hover svg path,
:global body.dark-mode .Button:hover svg circle,
:global body.dark-mode .Button:hover svg polygon,
:global body.dark-mode .Button:hover svg rect,
:global body.dark-mode button:hover svg path,
:global body.dark-mode button:hover svg circle,
:global body.dark-mode button:hover svg polygon,
:global body.dark-mode button:hover svg rect {
  fill: #fff !important;
  opacity: 0.9 !important;
}

/* 5. Safety â€” prevent global * selector from overriding SVG fills */
:global body.dark-mode *:not(svg):not(path):not(circle):not(rect):not(polygon) {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, fill 0.3s ease;
}
/* Remove filter from background-image icons 
// Note: Icon component uses background-image CSS, not inline SVG elements */
:global(body.dark-mode) .Icon,
:global(body.dark-mode) i[class="icon"],
:global(body.dark-mode) .Button .Icon,
:global(body.dark-mode) button .Icon,
:global(body.dark-mode) .Button.active .Icon,
:global(body.dark-mode) button.active .Icon,
:global(body.dark-mode) .Button:hover .Icon,
:global(body.dark-mode) button:hover .Icon {
  filter: none !important;
  opacity:Â 1Â !important;
}
